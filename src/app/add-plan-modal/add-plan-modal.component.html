<ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-header">
    <button type="button" class="close pull-right" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
    <h4 class="modal-title">Add Plan</h4>
  </div>
  <div class="modal-body">
    <form class="form-horizontal">
      <div class="form-group">
        <label class="col-sm-2 control-label">Plan title</label>
        <div class="col-sm-10">
          <input name="title" [(ngModel)]="plan.title" #title="ngModel" type="text" class="form-control" placeholder="Title" required>
          <div [hidden]="title.valid || title.untouched" class="alert alert-danger">
            Enter plan name
          </div>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">Date</label>
        <div class="col-sm-10">
          <app-datepicker (onChanged)="dateChanged($event)"></app-datepicker>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">Period</label>
        <div class="col-sm-10">
          <select name="period"
                  [(ngModel)]="plan.period"
                  class="form-control"
                  #period="ngModel"
                  required>
            <option val="active">active</option>
            <option val="in plans">in plans</option>
            <option val="in future">in future</option>
            <option val="past">past</option>
          </select>
          <div [hidden]="period.valid || period.untouched" class="alert alert-danger">
            Enter plan name
          </div>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">img</label>
        <div class="col-sm-10">
          <input name="planImage"
                 [(ngModel)]="plan.planImage"
                 type="text"
                 class="form-control"
                 placeholder="Umg"
                 #planImage="ngModel"
                 required>
          <div [hidden]="planImage.valid || planImage.untouched" class="alert alert-danger">
            Enter plan name
          </div>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">file</label>
        <div class="col-sm-10">
          <input type="file" id="photo" name="photo" (change)="upload($event)"/>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button"
            class="btn btn btn-primary"
            (click)="addPlan(c)"
            [disabled]="title.invalid || period.invalid || planImage.invalid || plan.date === null">
      Add Plan</button>
    <button type="button" class="btn btn btn-primary" (click)="c('Close click')">Close</button>
  </div>
</ng-template>

<span (click)="open(content)"><span class="glyphicon glyphicon-plus"></span> Add Plan</span>
